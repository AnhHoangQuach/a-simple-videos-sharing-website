

 <link href="https://vjs.zencdn.net/7.17.0/video-js.css" rel="stylesheet" />

  <!-- If you'd like to support IE8 (for Video.js versions prior to v7) -->
  <!-- <script src="https://vjs.zencdn.net/ie8/1.1.2/videojs-ie8.min.js"></script> -->

<p>
  <strong>Title:</strong>
  <%= @video.title %>
</p>

<p>
  <strong>Category:</strong>
  <%= @video.category.category %>
</p>
  
<video
    id="my-video"
    class="video-js"
    controls
    preload="auto"
    width="640"
    height="264"
    poster="<%= url_for(@video.thumbnail) %>"
    data-setup="{}"
  >
    <source src="<%= url_for(@video.clip) %>" type="video/mp4" />
    
</video>

<p>
  <strong>Description:</strong>
  <%= @video.description %>
</p>
<p> <strong>View counts:</strong> <%= @video.impressionist_count %> views</p>
<p> <%= @video.likes %> likes</p> 

<%= link_to 'Edit', edit_video_path(@video) %> |
<%= link_to 'Back', videos_path %>
<script src="https://vjs.zencdn.net/7.17.0/video.min.js"></script>

<a href="/videos/<%= @video.id %>/like">
      <br>
      LIKE
      <br>
</a>

<a href="/videos/<%= @video.id %>/dislike">
      DISLIKE
      <br>
</a>

<%= form_with(model: @comment) do |form| %>
  <% if @comment.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>

      <ul>
        <% @comment.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <%= form.label :video_id %>
    <%= form.hidden_field :video_id, value: @video.id%>
  </div>

  <% if  user_signed_in? %>
    <div class="field">
      <%= form.label :comment %>
      <%= form.text_field :comment %>
    </div>

    <div class="actions">
      <%= form.submit %>
    </div>
  <% end %>
<% end %>

<% @comments.each do |comment| %>
  <div>
    <div>
      <br>
      User: 
      <%= User.find(comment.user_id).name %>
    </div>
    <div>
      Comment: 
      <%= comment.comment %>
    </div>
    <div>
      Time: 
      <%= comment.time %> 
    </div> 
  </div>
<% end %>